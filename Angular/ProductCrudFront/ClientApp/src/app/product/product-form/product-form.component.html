<div class="row d-flex justify-content-center">
<mat-card class="card-form row d-flex justify-content-center">
    Adicionar Produto
    <div class="example-container">
      <div class="row" *ngIf="images.length > 0">
        <div class="col-sm-3"></div>
        <div class="col-sm-6 m-10 h200px">
            <mat-carousel [hideArrows]="false" [autoplay]="false" [proportion]="60">
              <mat-carousel-slide *ngFor="let img of images">
                <div class="img">
                  <button mat-icon-button color="warn" (click)="deleteImage(img);" class="relativebtn">
                    <mat-icon>delete</mat-icon>
                  </button>
                  <img src="{{env.azureBlobBaseUrl}}{{img.id}}.png" class="img"/>
                </div>
              </mat-carousel-slide>
            </mat-carousel>
        </div>
        <div class="col-sm-3"></div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <mat-form-field class="w-100">
            <input matInput placeholder="Nome" [(ngModel)]="model.name">
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <mat-form-field class="w-100">
            <input matInput placeholder="Descrição" [(ngModel)]="model.description">
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-10">
          <mat-form-field class="w-100">
            <input matInput placeholder="Preço" [(ngModel)]="model.price">
          </mat-form-field>
        </div>
        <div class="col-sm-2">
            <mat-checkbox class="example-margin" [(ngModel)]="model.active">Ativo</mat-checkbox>
        </div>        
      </div>
      <div class="row" *ngIf="model.id > 0">
          <div class="col-sm-12 m-10">
              <button type="button" color="primary" mat-raised-button (click)="fileInput.click()">Enviar Imagens</button>
              <input hidden accept="image/*" (change)="onFileSelected()" #fileInput type="file" id="file">
          </div>       
        </div>
      <div class="row" *ngFor="let item of productCategories; let i = index">
          <div class="col-sm-8">
              <mat-form-field class="w-100">
                  <mat-label>Categoria</mat-label>
                  <mat-select [(ngModel)]="item.categoryId">
                    <mat-option *ngFor="let cat of categories" [value]="cat.id">
                      {{cat.name}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
          </div>
          <div class="col-sm-4">
              <button mat-raised-button color="accent" class="m-10" (click)="removeCategory(i, item);">Remover Categoria</button>
          </div>        
      </div>
      <div class="row">
        <div class="col-sm-12">
          <button mat-raised-button color="primary" class="m-10" (click)="save();">Salvar</button>
          <button mat-raised-button color="accent" [routerLink]="['/product']" class="m-10">Cancelar</button>
          <button mat-stroked-button color="accent" class="m-10" (click)="addCategory();">Adicionar Categoria</button>
        </div>
      </div>
    </div>
</mat-card>
</div>
